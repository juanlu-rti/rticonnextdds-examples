<?xml version="1.0" encoding="UTF-8"?>

<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="https://community.rti.com/schema/6.0.1/rti_recording_service.xsd">
   
    <!-- The name of the library, and the function used to create an instance
         of the StorageWriter -->     
    <plugin_library name="StorageLibrary">
        <storage_plugin name="LevelDb">
            <dll>LevelDbWriter</dll>
            <create_function>LevelDbWriter_get_storage_writer</create_function>
        </storage_plugin>
    </plugin_library>
    
    <recording_service name="LevelDbIntegration">
        <!-- Storage properties. These are passed to the plugin in the 
             plugin_library -->
        <storage>
            <plugin plugin_name="StorageLibrary::LevelDb">
                <property>
                    <value>
                        <!-- This property establishes the working directory
                             where Recorder will store the LevelDB database
                             directories.
                             Note: directory should not contain a trailing path
                             separator. -->
                        <element>
                            <name>rti.recording.examples.leveldb.working_dir</name>
                            <value>$(LEVELDB_WORKING_DIR)</value>
                        </element>
                        <!-- This property is used to enable auto directory
                             creation. Avoids having to set the 
                             'leveldb.working_dir' property avoid every time.
                             When set, it will automatically append the current
                             timestamp (in seconds) to the 'leveldb.working_dir' 
                             property value, and use that as the working 
                             directory.
                             Valid values are 1 (for true) or 0 (for false) -->
                        <element>
                            <name>rti.recording.examples.leveldb.enable_auto_dir</name>
                            <value>1</value>
                        </element>
                    </value>
                </property>
            </plugin>
        </storage>
        <!-- Domain Participant, by default in domain 0. Use the 
             -domainIdBase command-line parameter to adjust -->
        <domain_participant name="Domain0">
            <domain_id>0</domain_id>
        </domain_participant>

        <session name="Session">
            <topic_group name="AllExceptRti" participant_ref="Domain0">
                <allow_topic_name_filter>*</allow_topic_name_filter>
                <deny_topic_name_filter>rti/*</deny_topic_name_filter>
            </topic_group>
        </session>
    </recording_service>
</dds>
